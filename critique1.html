<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Leighton Pritchard">

<title>11&nbsp; Critique the Experiment – MP968: Experimental Design Workshop</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./both_sexes.html" rel="next">
<link href="./interventions.html" rel="prev">
<link href="./icon_32.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./nc3rs-eda.html">NC3Rs EDA</a></li><li class="breadcrumb-item"><a href="./critique1.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Critique the Experiment</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">MP968: Experimental Design Workshop</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/sipbs-compbiol/MP968-Workshop_Experimental_Design" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface to the 2024-25 presentation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./cause_and_effect.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cause and Effect</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./problem.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">The Problem With Statistics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dags.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">An Introduction to Causal Graphs</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./measurement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Measurement</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wet_earth.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">How Wet Is The Earth?</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./power.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Power Calculations and Sample Size</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./g_power.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Using G*Power</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./nc3rs-eda.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NC3Rs EDA</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda_account.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">EDA Account Setup</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./workshop_experiment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">The Workshop Experiment</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./create_new_diagram.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Create a New Diagram</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./add_experiment_node.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Add an Experiment Node</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./group_assignment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Assign Experimental Units</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./interventions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Define Interventions and Measurements</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./critique1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Critique the Experiment</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./both_sexes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Monitor for Sex Effects</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analysis_suggestion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Obtain an Analysis Suggestion</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sample_size.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Estimate Sample Size</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./further_reading.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Further Reading</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#run-the-critique-tool" id="toc-run-the-critique-tool" class="nav-link active" data-scroll-target="#run-the-critique-tool"><span class="header-section-number">11.1</span> Run the <code>Critique</code> tool</a></li>
  <li><a href="#read-the-critique-results" id="toc-read-the-critique-results" class="nav-link" data-scroll-target="#read-the-critique-results"><span class="header-section-number">11.2</span> Read the critique results</a></li>
  <li><a href="#resolve-experiment-node-errors" id="toc-resolve-experiment-node-errors" class="nav-link" data-scroll-target="#resolve-experiment-node-errors"><span class="header-section-number">11.3</span> Resolve Experiment node errors</a>
  <ul class="collapse">
  <li><a href="#resolve-the-experimental-unit-error" id="toc-resolve-the-experimental-unit-error" class="nav-link" data-scroll-target="#resolve-the-experimental-unit-error"><span class="header-section-number">11.3.1</span> Resolve the “experimental unit” error</a></li>
  <li><a href="#resolve-the-independent-variable-of-interest-error" id="toc-resolve-the-independent-variable-of-interest-error" class="nav-link" data-scroll-target="#resolve-the-independent-variable-of-interest-error"><span class="header-section-number">11.3.2</span> Resolve the “independent variable of interest” error</a></li>
  </ul></li>
  <li><a href="#rerun-the-critique-tool" id="toc-rerun-the-critique-tool" class="nav-link" data-scroll-target="#rerun-the-critique-tool"><span class="header-section-number">11.4</span> Rerun the <code>Critique</code> tool</a></li>
  <li><a href="#resolve-group-node-errors" id="toc-resolve-group-node-errors" class="nav-link" data-scroll-target="#resolve-group-node-errors"><span class="header-section-number">11.5</span> Resolve Group node errors</a></li>
  <li><a href="#rerun-the-critique-tool-1" id="toc-rerun-the-critique-tool-1" class="nav-link" data-scroll-target="#rerun-the-critique-tool-1"><span class="header-section-number">11.6</span> Rerun the <code>Critique</code> tool</a></li>
  <li><a href="#resolve-outcome-measure-node-errors" id="toc-resolve-outcome-measure-node-errors" class="nav-link" data-scroll-target="#resolve-outcome-measure-node-errors"><span class="header-section-number">11.7</span> Resolve Outcome measure node errors</a></li>
  <li><a href="#rerun-the-critique-tool-2" id="toc-rerun-the-critique-tool-2" class="nav-link" data-scroll-target="#rerun-the-critique-tool-2"><span class="header-section-number">11.8</span> Rerun the <code>Critique</code> tool</a></li>
  <li><a href="#resolve-independent-variable-of-interest-node-errors" id="toc-resolve-independent-variable-of-interest-node-errors" class="nav-link" data-scroll-target="#resolve-independent-variable-of-interest-node-errors"><span class="header-section-number">11.9</span> Resolve Independent variable of interest node errors</a></li>
  <li><a href="#rerun-the-critique-tool-3" id="toc-rerun-the-critique-tool-3" class="nav-link" data-scroll-target="#rerun-the-critique-tool-3"><span class="header-section-number">11.10</span> Rerun the <code>Critique</code> tool</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/sipbs-compbiol/MP968-Workshop_Experimental_Design/edit/main/critique1.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/sipbs-compbiol/MP968-Workshop_Experimental_Design/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./nc3rs-eda.html">NC3Rs EDA</a></li><li class="breadcrumb-item"><a href="./critique1.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Critique the Experiment</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-critique-1" class="quarto-section-identifier"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Critique the Experiment</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>EDA provides a number of tools to help us, as researchers, improve our experimental designs and make them more rigourous. Some of these, such as the <code>Critique</code> tool, embody rules and principles that would be applied by a competent statistician, if you brought one in to advise on your experiment. Using these tools can save you time, and be useful as a training aid so that we can see and understand elements of good and bad experimental design ourselves, with experience.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Tools like <code>Critique</code> are very useful but, because they work from a finite set of rules and are not themselves intelligent, it is always useful - especially for experiments that are not very simple - to consult with a competent statistician.</p>
</div>
</div>
<p>In this section, we will use the EDA <code>Critique</code> tool to get feedback on our basic experimental design.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What no-one tells you
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Good experimental design can be very difficult, and quite nuanced. But even experienced scientists with many publications and long track records of research funding may never have received any formal training in experimental design. This can, and too frequently does, give rise to experiments or results that are compromised. In the worst cases, these experiments may be unable - because of their structure - to provide useful information about the system under test. More often a poor match between the experimental design and statistical analysis gives rise to misleading results or uncorrect conclusions.</p>
<p>An accessible introduction to the hazards associated with poor experimental design can be found in Ben Goldacre’s books <em>Bad Pharma</em> (about poor research practice in the pharmaceutical industry) and <em>I Think You’ll Find It’s A Bit More Complicated Than That</em>, which collects his <em>Bad Science</em> newspaper columns, including this one:</p>
<ul>
<li><a href="https://www.badscience.net/2011/10/what-if-academics-were-as-dumb-as-quacks-with-statistics/">“What if academics were as dumb as quacks with statistics?”</a></li>
</ul>
<p>which makes a popular presentation of a study of work published in prestigious journals such as <em>Science</em> and <em>Nature</em> (<span class="citation" data-cites="Nieuwenhuis2011-nl">Nieuwenhuis, Forstmann, and Wagenmakers (<a href="references.html#ref-Nieuwenhuis2011-nl" role="doc-biblioref">2011</a>)</span>). Their paper begins:</p>
<blockquote class="blockquote">
<p>In theory, a comparison of two experimental effects requires a statistical test on their difference. In practice, this comparison is often based on an incorrect procedure involving two separate tests in which researchers conclude that effects differ when one effect is significant (P &lt; 0.05) but the other is not (P &gt; 0.05). We reviewed 513 behavioral, systems and cognitive neuroscience articles in five top-ranking journals (Science, Nature, Nature Neuroscience, Neuron and The Journal of Neuroscience) and found that 78 used the correct procedure and 79 used the incorrect procedure. An additional analysis suggests that incorrect analyses of interactions are even more common in cellular and molecular neuroscience.</p>
</blockquote>
</div>
</div>
</div>
<section id="run-the-critique-tool" class="level2" data-number="11.1">
<h2 data-number="11.1" class="anchored" data-anchor-id="run-the-critique-tool"><span class="header-section-number">11.1</span> Run the <code>Critique</code> tool</h2>
<ol type="1">
<li>Use the <code>Tools</code> menu and click on <code>Tools -&gt; Critique</code> (<a href="#fig-critique-1" class="quarto-xref">Figure&nbsp;<span>11.1</span></a>)</li>
</ol>
<div id="fig-critique-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-1.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.1: EDA, showing the <code>Tools</code> menu and some text from the <code>Critique</code> Help Centre entry
</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>The critique involves running analysis on a remote machine, and may take a couple of minutes, so please be patient.</p>
</div>
</div>
<p>When the critique has finished, you will see a pop-up dialogue box describing the results of the analysis.</p>
</section>
<section id="read-the-critique-results" class="level2 page-columns page-full" data-number="11.2">
<h2 data-number="11.2" class="anchored" data-anchor-id="read-the-critique-results"><span class="header-section-number">11.2</span> Read the critique results</h2>
<div id="fig-critique-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-2.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.2: EDA critique output indicating five errors, 19 warnings, and an advice message associated with our design
</figcaption>
</figure>
</div>
<p>It turns out our experimental design has some issues: five errors, 19 warnings, and an advice message. Our simple design might be a bit more complicated than we think.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-oh-noes" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-oh-noes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/oh-noes.jpg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-oh-noes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.3: Our experimental design isn’t as good as we think it is!
</figcaption>
</figure>
</div>
</div></div><ol type="1">
<li>Click on the <code>OK</code> button</li>
<li>Note the locations and kinds of feedback the <code>Critique</code> tool provided (<a href="#fig-critique-3" class="quarto-xref">Figure&nbsp;<span>11.4</span></a>)</li>
</ol>
<div id="fig-critique-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-3.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.4: The EDA critique output highlights errors with a red box, warnings with an amber box, and advice with a blue box. There are errors in our Experiment node, in the <em>control</em> and <em>treatment</em> Group nodes, and in our Outcome measure node. There are warnings all over the experimental design.
</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Errors and Warnings: What should we fix?
</div>
</div>
<div class="callout-body-container callout-body">
<p>The EDA <code>Critique</code> tool reports three kinds of issue:</p>
<ol type="1">
<li><strong>Errors</strong> are critical problems with the design that would prevent the tool from being able to decide upon an appropriate statistical analysis, or that would indicate structural problems with the design, such as missing or inappropriate elements, that would compromise the experiment fatally. Errors will block further analysis of the experimental design.</li>
<li><strong>Warnings</strong> are generally about missing information that, while not compromising the experiment to the point that it just won’t work, may result in inappropriate analyses. A typical example of this is when the design does not take experimental subject sex into account, this is raised as a warning. Working with a single sex can be justified (e.g.&nbsp;prostate cancer research, breast cancer research) but in general is not good practice and can compromise the interpretation or applicability of results. Warnings typically highlight where clarification could alter the analysis method or interpretation.</li>
<li><strong>Advice</strong> labels are similar to warnings in that they highlight ambiguities or areas where unstated decisions might alter the conduct or interpretation of the experiment. They are typically less severe than warnings.</li>
</ol>
<p>Errors must be fixed for the experimental design to be considered at all usable. Issues flagged as warnings or advice notices need not be fixed, as the choices made may be justified. However, it is always worthwhile inspecting the warnings, as attending to them may help clarify and improve the design.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>It can help to have a strategy to approach dealing with <code>Critique</code> tool output. Two principles might help resolve issues more efficiently.</p>
<ol type="1">
<li>Deal with errors first, then warnings, then advice</li>
<li>Issues in the Experiment node might affect other nodes in the experiment, so attend to these first.</li>
<li>Issues in nodes “early” in the experiment (e.g.&nbsp;in defining experimental groups) might affect nodes “downstream” in the experiment, so work from defining your groups through to the analysis step.</li>
</ol>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>On this page we will deal only with the highlighted errors. Later in the workshop we will handle an implication of one of the warnings.</p>
</div>
</div>
</section>
<section id="resolve-experiment-node-errors" class="level2" data-number="11.3">
<h2 data-number="11.3" class="anchored" data-anchor-id="resolve-experiment-node-errors"><span class="header-section-number">11.3</span> Resolve Experiment node errors</h2>
<ol type="1">
<li>Following our advice in the box above, click on the red error box associated with the Experiment node to see the error message (<a href="#fig-critique-4" class="quarto-xref">Figure&nbsp;<span>11.5</span></a>).</li>
</ol>
<div id="fig-critique-4" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-4.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.5: The Experiment node error indicates two problems: our experimental unit is missing, and the independent variable of interest is not specified. These errors would be expected to affect the whole experiment.
</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>The bold text in the error dialogue box provides links to help text and advice about resolving each specific error, and what options are available to you.</p>
</div>
</div>
<section id="resolve-the-experimental-unit-error" class="level3" data-number="11.3.1">
<h3 data-number="11.3.1" class="anchored" data-anchor-id="resolve-the-experimental-unit-error"><span class="header-section-number">11.3.1</span> Resolve the “experimental unit” error</h3>
<ol type="1">
<li>Click on the <code>OK</code> button to close the dialogue box.</li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Experimental units
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>An <em>experimental unit</em> is the subject that is exposed to an intervention, in the course of the experiment, <em>independently</em> of other experimental units. Most of the time in <em>in vivo</em> research the experimental unit is a single animal, but it might in some cases be a group of animals, part of an animal (if you are testing distinct limbs of the same animal, for instance), or the same animal at different periods of time.</p>
<p>The <em>sample size</em> of an experiment is the number of experimental units in each group. It is critical for good statistics, and being able to make an appropriate inference from your experiment, that the experimental unit is well defined.</p>
<p>In the workshop experiment, we are taking a <em>systemic measurement</em> of blood glucose from each animal at the endpoint of the experiment, so our experimental unit is the <code>animal</code>.</p>
</div>
</div>
</div>
<ol start="2" type="1">
<li>Add a new <strong>Experimental unit</strong> node, by clicking on the grey lozenge in the Pool Group node’s icon menu (<a href="#fig-critique-5" class="quarto-xref">Figure&nbsp;<span>11.6</span></a>).</li>
</ol>
<div id="fig-critique-5" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-5.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.6: The grey lozenge icon in the Group node panel creates a new <strong>Experimental unit</strong> node.
</figcaption>
</figure>
</div>
<ol start="3" type="1">
<li>Drag the new node into a clear space, and click on the <code>properties</code> icon to bring up the Node properties pane (<a href="#fig-critique-6" class="quarto-xref">Figure&nbsp;<span>11.7</span></a>).</li>
</ol>
<div id="fig-critique-6" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-6-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-6.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-6-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.7: The <strong>Experimental unit</strong> node field panel
</figcaption>
</figure>
</div>
<ol start="4" type="1">
<li>Rename the node in the <strong>label</strong> field as “Animal” and select “animal” from the <strong>experimental unit is</strong> drop-down (<a href="#fig-critique-7" class="quarto-xref">Figure&nbsp;<span>11.8</span></a>). Then click the <code>Close</code> button.</li>
</ol>
<div id="fig-critique-7" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-7-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-7.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-7-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.8: Renaming the <strong>Experimental unit</strong> node, and specifying the experimental unit type.
</figcaption>
</figure>
</div>
</section>
<section id="resolve-the-independent-variable-of-interest-error" class="level3" data-number="11.3.2">
<h3 data-number="11.3.2" class="anchored" data-anchor-id="resolve-the-independent-variable-of-interest-error"><span class="header-section-number">11.3.2</span> Resolve the “independent variable of interest” error</h3>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Independent variable of interest
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>An <em>independent variable of interest</em> in an experiment is a parameter that is under the control of and/or manipulated by the experimenter. Other terms for the same thing include <em>parameter</em>, <em>predictor</em>, or <em>factor of interest</em>.</p>
<p>Here, our independent variable of interest is <code>drug A</code>, as we are testing the response of animals in the presence or absence of the drug, and the administration of the drug is under the experimenter’s control.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>To add an independent variable of interest to our design, we need to introduce two new node types:</p>
<ol type="1">
<li>An <strong>Independent variable of interest</strong> node, which states what the variable itself is (e.g.&nbsp;dosage, surgery, drug)</li>
<li>Two <strong>Variable category</strong> nodes, because our variable is <em>categorical</em> - it is subdivided into two categories: “vehicle only”, and “vehicle + drug”.</li>
</ol>
</div>
</div>
<ol type="1">
<li>Drag an <strong>Independent variable of interest</strong> node from the sidebar on the left, onto the canvas. Double-click on the node, and rename it as “Drug A” (<a href="#fig-critique-8" class="quarto-xref">Figure&nbsp;<span>11.9</span></a>).</li>
</ol>
<div id="fig-critique-8" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-8-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-8.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-8-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.9: A new <strong>Independent variable of interest</strong> node, renamed as “Drug A”. This represents a variable that describes whether drug A was administered or not.
</figcaption>
</figure>
</div>
<ol start="2" type="1">
<li>Use the green lozenge icon in the Drug A Independent variable node you just made to create two <strong>Variable category</strong> nodes, linked to the independent variable (<a href="#fig-critique-9" class="quarto-xref">Figure&nbsp;<span>11.10</span></a>).</li>
</ol>
<div id="fig-critique-9" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-9-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-9.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-9-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.10: Clicking on the green lozenge icon twice creates two new <strong>Variable category</strong> nodes, which describe the categories that the “Drug A” variable may belong to.
</figcaption>
</figure>
</div>
<ol start="3" type="1">
<li>Rename the Variable category nodes as “vehicle” and “vehicle + drug” (<a href="#fig-critique-10" class="quarto-xref">Figure&nbsp;<span>11.11</span></a>).</li>
</ol>
<div id="fig-critique-10" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-10.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.11: The <strong>Variable category</strong> nodes are named “vehicle” and “vehicle + drug” to represent the two categories for the “Drug A” variable.
</figcaption>
</figure>
</div>
<ol start="4" type="1">
<li>Link the “Drug A” variable to the <strong>Analysis</strong> node by dragging the <em>arrow</em> icon from the “Drug A” node icon panel onto the Analysis node (<a href="#fig-critique-11" class="quarto-xref">Figure&nbsp;<span>11.12</span></a>). This adds an arrow to the diagram indicating that “Drug A” is a <em>factor of interest</em> for the analysis.</li>
</ol>
<div id="fig-critique-11" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-11-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-11.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-11-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.12: The “Drug A” variable is linked to the Analysis node as a <em>factor of interest</em>.
</figcaption>
</figure>
</div>
</section>
</section>
<section id="rerun-the-critique-tool" class="level2" data-number="11.4">
<h2 data-number="11.4" class="anchored" data-anchor-id="rerun-the-critique-tool"><span class="header-section-number">11.4</span> Rerun the <code>Critique</code> tool</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
The critique-fix-critique cycle
</div>
</div>
<div class="callout-body-container callout-body">
<p>The usual way to run the EDA tool is to critique your design, then fix one or more issues, and run the critique again to see what has changed. We repeat the cycle until the <code>Critique</code> tool reports no errors or issues.</p>
</div>
</div>
<ol type="1">
<li>Use the <code>Tools</code> menu and click on <code>Tools -&gt; Critique</code></li>
<li>Read the critique output.</li>
</ol>
<div id="fig-critique-12" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-12-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-12.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-12-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.13: EDA critique output indicating seven errors, 19 warnings, and an advice message associated with our design
</figcaption>
</figure>
</div>
<p>The output suggests that we have more errors than before, even though the errors on the Experiment node have been successfully resolved (<a href="#fig-oh-noes" class="quarto-xref">Figure&nbsp;<span>11.3</span></a>).</p>
</section>
<section id="resolve-group-node-errors" class="level2 page-columns page-full" data-number="11.5">
<h2 data-number="11.5" class="anchored" data-anchor-id="resolve-group-node-errors"><span class="header-section-number">11.5</span> Resolve Group node errors</h2>
<ol type="1">
<li>Click on the <code>OK</code> button to close the critique results.</li>
<li>Click on the Error icon, on the Control Group node. This brings up a popup warning us that the experimental grous are not differentiated from each other: the EDA tool cannot tell the difference between the two groups (<a href="#fig-critique-13" class="quarto-xref">Figure&nbsp;<span>11.14</span></a>).</li>
</ol>
<div id="fig-critique-13" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-13-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-13.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-13-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.14: The design tool tells us that it cannot differentiate between experimental groups
</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Using variable categories as “tags”
</div>
</div>
<div class="callout-body-container callout-body">
<p>The EDA tool advises us to use the <strong>Variable category</strong> nodes we created earlier as “tags”. This means that it wants us to assign the variable categories (“vehicle” and “vehicle + drug”) to explicitly associate one or more variable categories with each <strong>Pharmacological intervention</strong> node. Doing so tells the design tool which variable in the statistical analysis is associated with which practical intervention in our experiment.</p>
<p>To do this, we need to duplicate the two <strong>Variable category</strong> nodes, and drag one each to the appropriate <strong>Pharmacological intervention</strong> node.</p>
</div>
</div>
<ol start="3" type="1">
<li>Select the “vehicle” and “vehicle + drug” nodes by dragging a box around the two green lozenges (<a href="#fig-critique-14" class="quarto-xref">Figure&nbsp;<span>11.15</span></a>).</li>
</ol>
<div id="fig-critique-14" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-14-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-14.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-14-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.15: Selecting the two Variable category nodes places a blue box around each node.
</figcaption>
</figure>
</div>
<ol start="4" type="1">
<li>Use the <code>Edit -&gt; Copy</code> and <code>Edit -&gt; Paste</code> menu items (<a href="#fig-critique-15" class="quarto-xref">Figure&nbsp;<span>11.16</span></a>) to create copies of both nodes (<a href="#fig-critique-16" class="quarto-xref">Figure&nbsp;<span>11.17</span></a>).</li>
</ol>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-critique-15" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-15-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-15.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-15-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.16: The EDA tool’s <code>Edit</code> menu.
</figcaption>
</figure>
</div>
</div></div><div id="fig-critique-16" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-16-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-16.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-16-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.17: Copy-pasting the Variable category nodes places them on the canvas, surrounded by red boxes.
</figcaption>
</figure>
</div>
<ol start="5" type="1">
<li>Drag the “vehicle” Variable category node onto the “Vehicle only” Pharmacological intervention node (a green box will appear around the Pharmacological intervention node, when it is in place).</li>
<li>Drag the “vehicle + drug” Variable category node onto the “Vehicle + drug A” Pharmacological intervention node. Both interventions are now tagged with the appropriate variable category (<a href="#fig-critique-17" class="quarto-xref">Figure&nbsp;<span>11.18</span></a>).</li>
</ol>
<div id="fig-critique-17" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-17-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-17.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-17-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.18: The Pharmacological intervention nodes with Variable category tags attached, and their corresponding Group nodes.
</figcaption>
</figure>
</div>
</section>
<section id="rerun-the-critique-tool-1" class="level2" data-number="11.6">
<h2 data-number="11.6" class="anchored" data-anchor-id="rerun-the-critique-tool-1"><span class="header-section-number">11.6</span> Rerun the <code>Critique</code> tool</h2>
<ol type="1">
<li>Use the <code>Tools</code> menu and click on <code>Tools -&gt; Critique</code></li>
<li>Read the critique output.</li>
</ol>
<div id="fig-critique-18" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-18-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-18.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-18-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.19: EDA critique output indicating three errors, 19 warnings, and an advice message associated with our design
</figcaption>
</figure>
</div>
<p>Everything is not fixed (<a href="#fig-oh-noes" class="quarto-xref">Figure&nbsp;<span>11.3</span></a>), but at least we are reducing the total number of errors.</p>
</section>
<section id="resolve-outcome-measure-node-errors" class="level2" data-number="11.7">
<h2 data-number="11.7" class="anchored" data-anchor-id="resolve-outcome-measure-node-errors"><span class="header-section-number">11.7</span> Resolve Outcome measure node errors</h2>
<ol type="1">
<li>Close the critique output by clicking on the <code>OK</code> button.</li>
<li>Click on the Outcome measure node’s Error icon. This brings up a popup warning us that the EDA tool does not know whether the outcome measure is continuous or categorical.</li>
</ol>
<div id="fig-critique-19" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-19-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-19.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-19-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.20: The Outcome node error popup explaining that we need to specify whether the measure is continuous or categorical.
</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Continuous or categorical
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In general, variables in a statistical analysis can be either <em>continuous</em>, or <em>categorical</em>. We need to know whether variables (independent variables or outcome variables) are continuous or categorical in order to be able to determine an appropriate statistical approach.</p>
<ul>
<li><strong>continuous</strong> variables represent measures that can take any value along a continuum, like dose concentration, weight, or age</li>
<li><strong>categorical</strong> variables represent measures that can be members of one of a limited set of categories, like “high dose”/“low dose” (two categories); “underweight”/“normal”/“overweight”; or “infant”/“child”/“adult”.</li>
</ul>
<p><strong>If the EDA tool does not know what kind of data is measured in the experiment, it cannot recommend a statistical approach.</strong></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>In this experiment, our outcome measure is glucose concentration in plasma, which is a <em>continuous</em> variable.</p>
</div>
</div>
<ol start="3" type="1">
<li>Click on the Node properties icon for the “Glucose levels” Outcome measure node and select “continuous or discrete” from the <strong>continuous or categorical</strong> drop-down options, and set the <strong>is primary outcome measure</strong> to “yes” (<a href="#fig-critique-20" class="quarto-xref">Figure&nbsp;<span>11.21</span></a>). Then click on the <code>Close</code> button.</li>
</ol>
<div id="fig-critique-20" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-20-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-20.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-20-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.21: Node properties for the Outcome measure (“glucose concentration”) indicating that it is a continuous variable, and the primary experimental outcome measure.
</figcaption>
</figure>
</div>
</section>
<section id="rerun-the-critique-tool-2" class="level2" data-number="11.8">
<h2 data-number="11.8" class="anchored" data-anchor-id="rerun-the-critique-tool-2"><span class="header-section-number">11.8</span> Rerun the <code>Critique</code> tool</h2>
<ol type="1">
<li>Use the <code>Tools</code> menu and click on <code>Tools -&gt; Critique</code></li>
<li>Read the critique output, then click on the <code>OK</code> button to close.</li>
</ol>
<div id="fig-critique-21" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-21-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-21.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-21-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.22: EDA critique output indicating two errors, 19 warnings, and an advice message associated with our design
</figcaption>
</figure>
</div>
<p>All of the errors are <em>still</em> not fixed (<a href="#fig-oh-noes" class="quarto-xref">Figure&nbsp;<span>11.3</span></a>), but we’re nearly there.</p>
</section>
<section id="resolve-independent-variable-of-interest-node-errors" class="level2" data-number="11.9">
<h2 data-number="11.9" class="anchored" data-anchor-id="resolve-independent-variable-of-interest-node-errors"><span class="header-section-number">11.9</span> Resolve Independent variable of interest node errors</h2>
<ol type="1">
<li>Click on the Error icon, on the Independent variable of interest node. This brings up a popup explaining what errors EDA finds (<a href="#fig-critique-22" class="quarto-xref">Figure&nbsp;<span>11.23</span></a>).</li>
</ol>
<div id="fig-critique-22" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-22-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-22.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-22-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.23: The EDA tool finds two kinds of errors with the independent variable of interest: it has not been specified whether the variable is continuous or categorical, nor whether it is a repeated factor.
</figcaption>
</figure>
</div>
<ol start="2" type="1">
<li>Click on the <code>OK</code> button to close the dialogue box.</li>
<li>Click on the Node properties icon, on the “Drug A” Independent variable node to bring up the Node properties panel.</li>
<li>Our “Drug A” variable is categorical (the drug is either present or not), and we are taking a single endpoint measurement, so it is not a repeated measure. Set the <strong>continuous or categorical</strong> field to “categorical, ordinal, nominal or binary”, and the <strong>is repeated factor</strong> field to “no” (<a href="#fig-critique-23" class="quarto-xref">Figure&nbsp;<span>11.24</span></a>), and click on the <code>Close</code> button.</li>
</ol>
<div id="fig-critique-23" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-23-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-23.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-23-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.24: Set the <strong>continuous or categorical</strong> field to “categorical, ordinal, nominal or binary”, and the <strong>is repeated factor</strong> field to “no”, for the “Drug A” independent variable.
</figcaption>
</figure>
</div>
</section>
<section id="rerun-the-critique-tool-3" class="level2" data-number="11.10">
<h2 data-number="11.10" class="anchored" data-anchor-id="rerun-the-critique-tool-3"><span class="header-section-number">11.10</span> Rerun the <code>Critique</code> tool</h2>
<ol type="1">
<li>Use the <code>Tools</code> menu and click on <code>Tools -&gt; Critique</code></li>
<li>Read the critique output, then click on the <code>OK</code> button to close.</li>
</ol>
<div id="fig-critique-24" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-critique-24-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/images/nc3rs-eda-critique-24.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-critique-24-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11.25: EDA critique output indicating no errors, 20 warnings, and an advice message associated with our design
</figcaption>
</figure>
</div>
<p>We have fixed all of the errors, and can proceed to inspecting the warning messages, to clarify the experimental design further.</p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-Nieuwenhuis2011-nl" class="csl-entry" role="listitem">
Nieuwenhuis, Sander, Birte U Forstmann, and Eric-Jan Wagenmakers. 2011. <span>“Erroneous Analyses of Interactions in Neuroscience: A Problem of Significance.”</span> <em>Nat. Neurosci.</em> 14 (9): 1105–7.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./interventions.html" class="pagination-link" aria-label="Define Interventions and Measurements">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Define Interventions and Measurements</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./both_sexes.html" class="pagination-link" aria-label="Monitor for Sex Effects">
        <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Monitor for Sex Effects</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>This workshop is written and maintained by Dr Leighton Pritchard</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/sipbs-compbiol/MP968-Workshop_Experimental_Design/edit/main/critique1.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/sipbs-compbiol/MP968-Workshop_Experimental_Design/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This book was built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>